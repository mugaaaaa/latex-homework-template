\documentclass{article}

\usepackage{fancyhdr}
\usepackage{extramarks}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{tikz}
\usepackage[plain]{algorithm}
\usepackage{algpseudocode}
\usepackage{ctex}

\usetikzlibrary{automata,positioning}

%
% Basic Document Settings
%

\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in

\linespread{1.1}

\pagestyle{fancy}
\lhead{\hmwkAuthorName}
\chead{\hmwkClass\ : \hmwkTitle}
\rhead{\firstxmark}
\lfoot{\lastxmark}
\cfoot{\thepage}

\renewcommand\headrulewidth{0.4pt}
\renewcommand\footrulewidth{0.4pt}

\setlength\parindent{0pt}

%
% Create Problem Sections
%

\newcommand{\enterProblemHeader}[1]{
    \nobreak\extramarks{}{Problem \arabic{#1} continued on next page\ldots}\nobreak{}
    \nobreak\extramarks{Problem \arabic{#1} (continued)}{Problem \arabic{#1} continued on next page\ldots}\nobreak{}
}

\newcommand{\exitProblemHeader}[1]{
    \nobreak\extramarks{Problem \arabic{#1} (continued)}{Problem \arabic{#1} continued on next page\ldots}\nobreak{}
    \stepcounter{#1}
    \nobreak\extramarks{Problem \arabic{#1}}{}\nobreak{}
}

\setcounter{secnumdepth}{0}
\newcounter{partCounter}
\newcounter{homeworkProblemCounter}
\setcounter{homeworkProblemCounter}{1}
\nobreak\extramarks{Problem \arabic{homeworkProblemCounter}}{}\nobreak{}

%
% Homework Problem Environment
%
% This environment takes an optional argument. When given, it will adjust the
% problem counter. This is useful for when the problems given for your
% assignment aren't sequential. See the last 3 problems of this template for an
% example.
%
\newcommand{\currentProblemTitle}{}  % 存储当前题目标题

\newenvironment{homeworkProblem}[1][]{  % 可选参数，默认留空
    \renewcommand{\currentProblemTitle}{#1}%
    \section{#1}%
    \setcounter{partCounter}{1}%
    \enterProblemHeader{homeworkProblemCounter}%
}{
    \exitProblemHeader{homeworkProblemCounter}%
}

%
% Homework Details
%   - Title
%   - Due date
%   - Class
%   - Section/Time
%   - Instructor
%   - Author
%

\newcommand{\hmwkTitle}{第八周作业}
\newcommand{\hmwkDueDate}{November 9, 2025}
\newcommand{\hmwkClass}{高等代数}
\newcommand{\hmwkClassTime}{}
\newcommand{\hmwkClassInstructor}{}
\newcommand{\hmwkAuthorName}{\textbf{咕咕嘎嘎} \quad \textbf{11451419}}

%
% Title Page
%

\title{
    \vspace{2in}
    \textmd{\textbf{\hmwkClass:\ \hmwkTitle}}\\
    \normalsize\vspace{0.1in}\small{\hmwkDueDate}\\
    \vspace{0.1in}\large{\textit{\hmwkClassInstructor\ \hmwkClassTime}}
    \vspace{3in}
}

\author{\hmwkAuthorName}
\date{}

\renewcommand{\part}[1]{\textbf{\large Part \Alph{partCounter}}\stepcounter{partCounter}\\}

%
% Various Helper Commands
%

\newcommand{\solution}{\textbf{\large Solution}}

\newcommand{\R}{\ensuremath{\mathbb{R}} }
\newcommand{\N}{\ensuremath{\mathbb{N}} }
\newcommand{\Z}{\ensuremath{\mathbb{Z}} }
\newcommand{\Q}{\ensuremath{\mathbb{Q}} }

\newcommand{\cl}[1]{\ensuremath{\mathcal{#1}} }

% zero vector
\newcommand{\zv}{\ensuremath{\mathbf{0}} }
\newcommand{\x}{\ensuremath{\mathbf{x}} }
\newcommand{\y}{\ensuremath{\mathbf{y}} }
\newcommand{\z}{\ensuremath{\mathbf{z}} }
\newcommand{\uu}{\ensuremath{\mathbf{u}} }
\newcommand{\vv}{\ensuremath{\mathbf{v}} }
\newcommand{\ww}{\ensuremath{\mathbf{w}} }

% \newcommand{\det}{\ensuremath{\mathrm{det}}}
\newcommand{\pdet}[1]{\ensuremath{\mathrm{det} \left( #1 \right)} }
% \newcommand{\dim}{\ensuremath{\mathrm{dim}}}
\newcommand{\pdim}[1]{\ensuremath{\mathrm{dim} \left( #1 \right)} }
\newcommand{\rank}{\ensuremath{\mathrm{rank}}}
\newcommand{\prank}[1]{\ensuremath{\mathrm{rank} \left( #1 \right)} }
\newcommand{\nul}{\ensuremath{\mathrm{Nul}}}
\newcommand{\pnul}[1]{\ensuremath{\mathrm{Nul} \left( #1 \right)} }
\newcommand{\col}{\ensuremath{\mathrm{Col}}}
\newcommand{\pcol}[1]{\ensuremath{\mathrm{Col} \left( #1 \right)} }
\newcommand{\row}{\ensuremath{\mathrm{Row}}}
\newcommand{\prow}[1]{\ensuremath{\mathrm{Row} \left( #1 \right)} }
% \newcommand{\span}{\ensuremath{\mathrm{span} \left{ #1 \right}}}
\newcommand{\adj}{\ensuremath{\mathrm{adj}} }
\newcommand{\padj}[1]{\ensuremath{\mathrm{adj} \left( #1 \right)} }
\newcommand{\tr}{\ensuremath{^{T}} }

\newcommand{\pd}{\ensuremath{\partial}}

\newcommand{\pmat}[1]{\ensuremath{\begin{pmatrix}#1\end{pmatrix}} }  % 小括号
\newcommand{\bmat}[1]{\ensuremath{\begin{bmatrix}#1\end{bmatrix}} }  % 中括号
\newcommand{\Bmat}[1]{\ensuremath{\begin{Bmatrix}#1\end{Bmatrix}} }  % 大括号
\newcommand{\vmat}[1]{\ensuremath{\begin{vmatrix}#1\end{vmatrix}} }  % 单竖线（行列式）
\newcommand{\Vmat}[1]{\ensuremath{\begin{Vmatrix}#1\end{Vmatrix}} }  % 双竖线（范数）

\newcommand{\covec}[3]{\ensuremath{\left[ \mathbf{#1}_{#2} \right]_{\mathcal{#3}}}} 

% change-of-coordinates matrix from standard basis to #1
\newcommand{\chco}[1]{\ensuremath{P_{\mathcal{#1}}}}

% change-of-coordinates matrix from #1 to #2
\newcommand{\cchco}[2]{\ensuremath{\underset{\mathcal{#2} \leftarrow \mathcal{#1}}{P}}}

\begin{document}

\maketitle

\pagebreak

\begin{homeworkProblem}[4.4 Exercises 4]
Find the vector \( x \) determined by the given coordinate vector \([x]_{B}\) and the given basis \( B \).
\[
B = \left\{ \begin{bmatrix} -1 \\ 2 \\ 0 \end{bmatrix}, \begin{bmatrix} 3 \\ -5 \\ 2 \end{bmatrix}, \begin{bmatrix} 4 \\ -7 \\ 3 \end{bmatrix} \right\}, \quad [x]_{B} = \begin{bmatrix} -4 \\ 8 \\ -7 \end{bmatrix}
\]

\noindent\textbf{Solution.}
\[
x = (-4)
\begin{bmatrix}
    -1 \\ 2 \\ 0
\end{bmatrix}
+ 8
\begin{bmatrix}
    3 \\ -5 \\ 2
\end{bmatrix}
+ (-1)
\begin{bmatrix}
    4 \\ -7 \\ 3
\end{bmatrix}
=
\begin{bmatrix}
    0 \\ 1 \\ 5
\end{bmatrix}
\]

\end{homeworkProblem}

\pagebreak

\begin{homeworkProblem}[Test]

\[
\cchco{B}{A} = \bmat{1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1}
\]

\[
\chco{B} = \bmat{1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1}
\]

\[
\covec{x}{1}{B} = \covec{x}{}{B}
\]
\end{homeworkProblem}

\end{document}
