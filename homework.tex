\documentclass{article}

\usepackage{fancyhdr}
\usepackage{extramarks}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{tikz}
\usepackage[plain]{algorithm}
\usepackage{algpseudocode}
\usepackage{ctex}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{color}


\usetikzlibrary{automata,positioning}

%
% Basic Document Settings
%

\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in

\linespread{1.1}

\pagestyle{fancy}
\lhead{\hmwkAuthorName}
\chead{\hmwkClass\ : \hmwkTitle}
\rhead{\firstxmark}
\lfoot{\lastxmark}
\cfoot{\thepage}

\renewcommand\headrulewidth{0.4pt}
\renewcommand\footrulewidth{0.4pt}

\setlength\parindent{0pt}

%
% Create Problem Sections
%

\newcommand{\enterProblemHeader}[1]{
    \nobreak\extramarks{}{Problem \arabic{#1} continued on next page\ldots}\nobreak{}
    \nobreak\extramarks{Problem \arabic{#1} (continued)}{Problem \arabic{#1} continued on next page\ldots}\nobreak{}
}

\newcommand{\exitProblemHeader}[1]{
    \nobreak\extramarks{Problem \arabic{#1} (continued)}{Problem \arabic{#1} continued on next page\ldots}\nobreak{}
    \stepcounter{#1}
    \nobreak\extramarks{Problem \arabic{#1}}{}\nobreak{}
}

\setcounter{secnumdepth}{0}
\newcounter{partCounter}
\newcounter{homeworkProblemCounter}
\setcounter{homeworkProblemCounter}{1}
\nobreak\extramarks{Problem \arabic{homeworkProblemCounter}}{}\nobreak{}

%
% Homework Problem Environment
%
% This environment takes an optional argument. When given, it will adjust the
% problem counter. This is useful for when the problems given for your
% assignment aren't sequential. See the last 3 problems of this template for an
% example.
%
\newcommand{\currentProblemTitle}{}  % store the title of the current problem

\newenvironment{homeworkProblem}[1][]{  % optional argument, default is empty
    \renewcommand{\currentProblemTitle}{#1}%
    \section{#1}%
    \setcounter{partCounter}{1}%
    \enterProblemHeader{homeworkProblemCounter}%
}{
    \exitProblemHeader{homeworkProblemCounter}%
}

%
% Homework Details
%   - Title
%   - Due date
%   - Class
%   - Section/Time
%   - Instructor
%   - Author
%

\newcommand{\hmwkTitle}{Homework Title}
\newcommand{\hmwkDueDate}{November 30, 2025}
\newcommand{\hmwkClass}{Class Name}
\newcommand{\hmwkClassTime}{}
\newcommand{\hmwkClassInstructor}{}
\newcommand{\hmwkAuthorName}{\textbf{Your Name} \quad \textbf{Your Student ID}}

%
% Title Page
%

\title{
    \vspace{2in}
    \textmd{\textbf{\hmwkClass:\ \hmwkTitle}}\\
    \normalsize\vspace{0.1in}\small{\hmwkDueDate}\\
    \vspace{0.1in}\large{\textit{\hmwkClassInstructor\ \hmwkClassTime}}
    \vspace{3in}
}

\author{\hmwkAuthorName}
\date{}

\renewcommand{\part}[1]{\textbf{\large Part \Alph{partCounter}}\stepcounter{partCounter}\\}

%
% Various Helper Commands
%

\newcommand{\solution}{\textbf{\large Solution}}

\newcommand{\R}[1]{\ensuremath{\mathbb{R}}^{#1} }
\newcommand{\N}[1]{\ensuremath{\mathbb{N}}^{#1} }
\newcommand{\Z}[1]{\ensuremath{\mathbb{Z}}^{#1} }
\newcommand{\Q}[1]{\ensuremath{\mathbb{Q}}^{#1} }

\newcommand{\cl}[1]{\ensuremath{\mathcal{#1}} }

% zero vector
\newcommand{\zv}{\ensuremath{\mathbf{0}} }
\newcommand{\x}{\ensuremath{\mathbf{x}} }
\newcommand{\y}{\ensuremath{\mathbf{y}} }
\newcommand{\z}{\ensuremath{\mathbf{z}} }
\newcommand{\veca}{\ensuremath{\mathbf{a}} }
\newcommand{\vecb}{\ensuremath{\mathbf{b}} }
\newcommand{\vecc}{\ensuremath{\mathbf{c}} }
\newcommand{\vecu}{\ensuremath{\mathbf{u}} }
\newcommand{\vecv}{\ensuremath{\mathbf{v}} }
\newcommand{\vecw}{\ensuremath{\mathbf{w}} }

% \newcommand{\det}{\ensuremath{\mathrm{det}}}
\newcommand{\pdet}[1]{\ensuremath{\mathrm{det} \left( #1 \right)} }
% \newcommand{\dim}{\ensuremath{\mathrm{dim}}}
\newcommand{\pdim}[1]{\ensuremath{\mathrm{dim} \left( #1 \right)} }
\newcommand{\rank}{\ensuremath{\mathrm{rank}}}
\newcommand{\prank}[1]{\ensuremath{\mathrm{rank} \left( #1 \right)} }
\newcommand{\nul}{\ensuremath{\mathrm{Nul}}}
\newcommand{\pnul}[1]{\ensuremath{\mathrm{Nul} \left( #1 \right)} }
\newcommand{\col}{\ensuremath{\mathrm{Col}}}
\newcommand{\pcol}[1]{\ensuremath{\mathrm{Col} \left( #1 \right)} }
\newcommand{\row}{\ensuremath{\mathrm{Row}}}
\newcommand{\prow}[1]{\ensuremath{\mathrm{Row} \left( #1 \right)} }
% \newcommand{\span}{\ensuremath{\mathrm{span} \left{ #1 \right}}}
\newcommand{\adj}{\ensuremath{\mathrm{adj}} }
\newcommand{\padj}[1]{\ensuremath{\mathrm{adj} \left( #1 \right)} }
\newcommand{\tr}{\ensuremath{^{T}} }

\newcommand{\pd}{\ensuremath{\partial}}

\newcommand{\pmat}[1]{\ensuremath{\begin{pmatrix}#1\end{pmatrix}} }  % Parentheses
\newcommand{\bmat}[1]{\ensuremath{\begin{bmatrix}#1\end{bmatrix}} }  % Square brackets
\newcommand{\Bmat}[1]{\ensuremath{\begin{Bmatrix}#1\end{Bmatrix}} }  % Curly braces
\newcommand{\vmat}[1]{\ensuremath{\begin{vmatrix}#1\end{vmatrix}} }  % Single vertical line (determinant)
\newcommand{\Vmat}[1]{\ensuremath{\begin{Vmatrix}#1\end{Vmatrix}} }  % Double vertical line (norm)

\newcommand{\covec}[3]{\ensuremath{\left[ \mathbf{#1}_{#2} \right]_{\mathcal{#3}}}} 

% change-of-coordinates matrix from standard basis to #1
\newcommand{\chco}[1]{\ensuremath{P_{\mathcal{#1}}}}

% change-of-coordinates matrix from #1 to #2
\newcommand{\cchco}[2]{\ensuremath{\underset{\mathcal{#2} \leftarrow \mathcal{#1}}{P}}}

% setting listings
\lstset{
    numbers=left,
    basicstyle=\ttfamily\footnotesize,
    keywordstyle=\color{blue!100},
    commentstyle=\color{gray!70},
    stringstyle=\color{red},
    breaklines=true,
    backgroundcolor=\color{gray!10},
    frame = tb;
}

\begin{document}

\maketitle

\input{homework_problems.tex}

\end{document}
